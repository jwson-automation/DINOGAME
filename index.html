<!DOCTYPE html>
<html>

<head>
  <title>Dino Game</title>
  <style>
    /* 게임 컨테이너를 가운데로 정렬하는 CSS */
    body {
      justify-content: center;
      align-items: center;
      height: 100vh;
      margin: 0;
    }

    #gameContainer {
      position: relative;
      /* 스코어를 포함한 컨테이너의 위치를 상대적으로 설정 */
    }

    #score {
      font-size: 18px;
      font-weight: bold;
      color: black;
    }

    #title {
      font-size: 24px;
    }
  </style>


</head>

<body>
  <div id="gameContainer">
    <div id="score">0</div>
    <canvas id="gameCanvas" width="800" height="300"></canvas>
  </div>
  <div id="title">인터넷 연결 없음</div>
  <div>다음 방법을 시도해 보세요.</div>
  <div> - 비행기 모드 사용 중지</div>
  <div> - 모바일 데이터 또는 Wi-Fi 사용 설정</div>
  <div> - 현재 지역의 신호 확인</div>
  <div>ERR_INTERNET_DISCONNECTED</div>


  <script>
    // Dino 게임을 생성하는 JavaScript 코드
    // 캔버스와 컨텍스트 가져오기
    const canvas = document.getElementById('gameCanvas');
    const ctx = canvas.getContext('2d');

    var timer = 0;
    var enemy_timer = 0;
    var arr_enemy = []
    var arr_heart = []
    var arr_medi = []
    var arr_box = []
    var arr_thread = []
    var arr_card = []
    var arr_cloud = []
    var restart_flag = false;
    var game;
    var flag = true;
    var score = 0;
    var collide_checker = false;
    var anime = 0;
    var speed = 10;
    var cnt = 0;

    var jumpSound = new Audio('src/sound/jump_sound.mp3');
    var deadSound = new Audio('src/sound/dead_sound.mp3');
    var victorySound = new Audio('src/sound/victory_sound.mp3');

  </script>

  <script>

    document.addEventListener('touchstart', (event) => {
      // 스페이스바 누르면 점프 시작
      if (!dino.isJumping & dino.jumpingEnd) {
        if (restart_flag) {
          isJumping = false;
          jumpCount = 0;
          score = 0
          updateScore(0)
          dinoY = groundY - dino.height;
          arr_enemy = []
          ctx.clearRect(0, 0, canvas.width, canvas.height);
          requestAnimationFrame(gameLoop);
        } else {
          dino.isJumping = true;
          dino.jumpingEnd = false;
          jumpSound.play()
        }

      }
    });
  </script>

  <script>
    // 키보드 이벤트 처리
    document.addEventListener('keydown', (event) => {
      if (event.key === ' ') {
        if (restart_flag) {
          isJumping = false;
          score = 0
          speed = 10;
          updateScore(0)
          arr_enemy = []
          ctx.clearRect(0, 0, canvas.width, canvas.height);
          requestAnimationFrame(gameLoop);
        } else {
          // 스페이스바 누르면 점프 시작
          if (!dino.isJumping & dino.jumpingEnd) {
            jumpSound.play()
            dino.isJumping = true;
            dino.jumpingEnd = false;
          }
        }
      }
    });
  </script>

  <script src="dino.js"></script>
  <script src="enemy.js"></script>
  <script src="cloud.js"></script>
  <script src="pipe.js"></script>
  <script src="game.js"></script>
</body>

</html>